[General]
# > Êó•ÂøóÁ∫ßÂà´
loglevel = notify

# > DNS ÊúçÂä°Âô®
dns-server = 223.5.5.5, 114.114.114.114, system

# > VIF Excluded Routes
# Surge VIF Âè™ËÉΩÂ§ÑÁêÜ TCP Âíå UDP ÂçèËÆÆ„ÄÇ‰ΩøÁî®Ê≠§ÈÄâÈ°πÂèØ‰ª•ÁªïËøáÁâπÂÆöÁöÑ IP ËåÉÂõ¥ÔºåÂÖÅËÆ∏ÊâÄÊúâÊµÅÈáèÈÄöËøá„ÄÇ
tun-excluded-routes = 0.0.0.0/8, 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.168.0.0/16, 192.88.99.0/24, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32

# > Ë∑≥Ëøá‰ª£ÁêÜ
skip-proxy = localhost, *.local, injections.adguard.org, local.adguard.org, captive.apple.com, guzzoni.apple.com, yunbusiness.ccb.com, wxh.wo.cn, gate.lagou.com, www.abchina.com.cn, creditcard.bankcomm.com, creditcardapp.bankcomm.com, track.bankcomm.com, iosapps.itunes.apple.com, seed-sequoia.siri.apple.com, sequoia.apple.com, *.hapigo.com, 0.0.0.0/8, 10.0.0.0/8, 17.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.168.0.0/16, 192.88.99.0/24, 198.18.0.0/15, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 240.0.0.0/4, 255.255.255.255/32

# > Â¢ûÂº∫Áâà Wi-Fi Âä©ÁêÜ
wifi-assist = true

# > ÂÖÅËÆ∏ Wi-Fi ËÆøÈóÆ (‰ªÖ iOS Ôºâ
allow-wifi-access = true
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153

# > ÂÖÅËÆ∏ Wi-Fi ËÆøÈóÆ (‰ªÖ macOSÔºåËã•ÂÖÅËÆ∏ËøúÁ®ãËÆøÈóÆÂ∞Ü„Äå127.0.0.1„ÄçÊîπ‰∏∫„Äå0.0.0.0„Äç)
http-listen = 0.0.0.0:6152
socks5-listen = 0.0.0.0:6153

# > Allow Hotspot AccessÔºàÁÉ≠ÁÇπÂàÜ‰∫´‰ª£ÁêÜÔºâ
allow-hotspot-access = true

# > ÊéíÈô§ÁÆÄÂçï‰∏ªÊú∫Âêç
exclude-simple-hostnames = true

# > IPv6 ÊîØÊåÅÔºàÈªòËÆ§ÂÖ≥Èó≠Ôºâ
ipv6 = false // Â¶ÇÊó†ÁâπÊÆäÈúÄÊ±Ç‰∏çÂ∫îÂºÄÂêØ IPv6ÔºåÁõÆÂâçÁΩëÁªúÁéØÂ¢É‰∏ã IPv6 Âè™‰ºöÂ∏¶Êù•ÈóÆÈ¢ò„ÄÇ

# > ÊµãËØïË∂ÖÊó∂ÔºàÁßíÔºâ
test-timeout = 3

# > Internet ÊµãËØï URL
internet-test-url = http://wifi.vivo.com.cn/generate_204

# > ‰ª£ÁêÜÊµãÈÄü URL
proxy-test-url = http://cp.cloudflare.com/generate_204

# > Ëá™ÂÆö‰πâ GeoIP Êï∞ÊçÆÂ∫ì
geoip-maxmind-url = https://cdn.jsdelivr.net/gh/Hackl0us/GeoIP2-CN@release/Country.mmdb

# > GeoIP Êï∞ÊçÆÂ∫ìËá™Âä®Êõ¥Êñ∞
disable-geoip-db-auto-update = false

# > ÂΩìÈÅáÂà∞ REJECT Á≠ñÁï•Êó∂ËøîÂõûÈîôËØØÈ°µ
show-error-page-for-reject = true

# > Always Real IP Hosts
always-real-ip = *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com

[Replica]
# > ÈöêËóè Apple ËØ∑Ê±Ç
hide-apple-request = false

# > ÈöêËóè UDP ‰ºöËØù
hide-udp = false

# > ÈöêËóèÂ¥©Ê∫ÉËøΩË∏™Âô®ËØ∑Ê±Ç
hide-crash-reporter-request = true
hide-crashlytics-request = true

[Proxy]

[Proxy Group]
Proxy = select, üá≠üá∞, üá∫üá∏, üáØüáµ, Asia, Europe, America, Australia

Disney+ = select, nodes
YouTube = select, Proxy, nodes
Netflix = select, Proxy, nodes

üá≠üá∞ = select, nodes
üá∫üá∏ = select, nodes
üáØüáµ = select, nodes
Asia = select, nodes
Europe = select, nodes
America = select, nodes
Australia = select, countrys

üá≠üá∞(auto) = url-test, nodes, hidden=true, interval=600, tolerance=50, update-interval=86400
üá∫üá∏(auto) = url-test, nodes, hidden=true, interval=600, tolerance=50, update-interval=86400
üáØüáµ(auto) = url-test, nodes, hidden=true, interval=600, tolerance=50, update-interval=86400

[Rule]
# Ëá™ÂÆö‰πâËßÑÂàô
DOMAIN-SUFFIX,overleaf.com,DIRECT,notification-text="Overleaf"
DOMAIN-SUFFIX,nuist.edu.cn,DIRECT,notification-text="ËøûÊé•Ê†°Âõ≠ÁΩë"

# Â±èËîΩYouTubeÁöÑUDP
AND,((PROTOCOL,UDP), (DOMAIN-SUFFIX,googlevideo.com)),REJECT-NO-DROP
# Safari Èò≤Ë∑≥ËΩ¨
DOMAIN,app-site-association.cdn-apple.com,REJECT
# ÈíìÈ±º‰∫∫ÂéªÂπøÂëä
URL-REGEX,^https:\/\/api\.diaoyu\.com\/appv3\/init\/info,REJECT
# Client(‰ªÖ macOS)
PROCESS-NAME,UUBooster,DIRECT
# > Download (‰ªÖ macOS)
PROCESS-NAME,aria2c,DIRECT
PROCESS-NAME,fdm,DIRECT
PROCESS-NAME,Folx,DIRECT
PROCESS-NAME,NetTransport,DIRECT
PROCESS-NAME,Thunder,DIRECT
PROCESS-NAME,Transmission,DIRECT
PROCESS-NAME,uTorrent,DIRECT
PROCESS-NAME,WebTorrent,DIRECT
PROCESS-NAME,WebTorrent Helper,DIRECT

# Apple
DOMAIN-SUFFIX,store.apple.com,DIRECT // Apple Store Online
DOMAIN-SUFFIX,ls.apple.com,DIRECT // Apple Maps
# DOMAIN,xp.apple.com,Proxy // iOS & macOS System Upgrade
RULE-SET,SYSTEM,DIRECT

# YouTube
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/YouTube.list,YouTube
# Disney+
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/DisneyPlus.list,Disney+
# Netflix
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/Netflix.list,Netflix

# ËÖæËÆØ WeChat
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/WeChat.list,Direct
RULE-SET,https://raw.githubusercontent.com/NobyDa/Script/master/Surge/WeChat.list,Direct

# Êñ∞Êµ™ÂæÆÂçö
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Weibo/Weibo.list,DIRECT

# Rulesets
RULE-SET,https://raw.githubusercontent.com/Hackl0us/SS-Rule-Snippet/main/Rulesets/Surge/Custom/academic-proxy.list,Proxy
RULE-SET,https://raw.githubusercontent.com/Hackl0us/SS-Rule-Snippet/main/Rulesets/Surge/Custom/academic-direct.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/Hackl0us/SS-Rule-Snippet/main/Rulesets/Surge/Custom/adult.list,Proxy
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Telegram/Telegram.list,Proxy
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list,Direct
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list,Proxy


# ‰ª•‰∏ãËßÑÂàôÂ∞ÜËß¶ÂèëÊú¨Âú∞ DNS Ëß£Êûê
RULE-SET,LAN,DIRECT
GEOIP,CN,DIRECT // GeoIP CN
FINAL,Proxy,dns-failed

[Host]
# NUIST
a.nuist.edu.cn = 10.255.255.34

# Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188

# Google Dl
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
update.googleapis.com = server:119.29.29.29

# PlayStation
*.dl.playstation.net = server:119.29.29.29

# Router Admin Panel
amplifi.lan = server:syslib // Ubiquiti Amplifi Router
router.synology.com = server:syslib // Synology Router
sila.razer.com = server:syslib // Razer Sila Router
router.asus.com = server:syslib // Asus Router
routerlogin.net = server:syslib // Netgear Router
orbilogin.com = server:syslib // Netgear Obri Router
www.LinksysSmartWiFi.com = server:syslib // Linksys Router
LinksysSmartWiFi.com = server:syslib // Linksys Router
myrouter.local = server:syslib // Linksys Router
www.miwifi.com = server:syslib // Xiaomi Mi WiFi Router
miwifi.com = server:syslib // Xiaomi Mi WiFi Router
mediarouter.home = server:syslib // Huawei Router
tplogin.cn = server:syslib // TP-Link Router
tplinklogin.net = server:syslib // TP-Link Router
melogin.cn = server:syslib // MERCURY Router
falogin.cn = server:syslib // FAST Router

# Apple TestFlight
*testflight.apple.com = server:8.8.4.4


[URL Rewrite]
^https?:\/\/(www\.)?(g|google)\.cn https://www.google.com 302
^https?:\/\/(ditu|maps).google\.cn https://maps.google.com 302
^https?:\/\/(www\.)?(g|google)\.cn/imghp?hl=zh-CN&ogbl https://images.google.com 302

[MITM]
# Ë∑≥ËøáÊúçÂä°Á´ØËØÅ‰π¶È™åËØÅ
skip-server-cert-verify = true
# Áî®‰∫é TCP ËøûÊé•
tcp-connection = true
# MITM over HTTP/2
h2 = true
hostname = *.g.cn, *.google.cn, *.google.com.hk, boxer.baidu.com, mp.weixin.qq.com, security.wechat.com, weixin110.qq.com, vip1.kuwo.cn, testflight.apple.com, pan.baidu.com, h5.xiuxiu.meitu.com, api.xiuxiu.meitu.com, api.diaoyu.com
ca-passphrase = 5EF7BF65
ca-p12 = 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

[Script]
ÁôæÂ∫¶ÊêúÁ¥¢Èò≤Ë∑≥ËΩ¨ = type=http-response,pattern=^https?\:\/\/boxer\.baidu\.com\/scheme,script-path=https://raw.githubusercontent.com/app2smile/rules/master/js/baidu-no-redirect.js
ÂæÆ‰ø°ÂéªÈô§ÂÖ¨‰ºóÂè∑ÊñáÁ´†Â∫ïÈÉ®ÂπøÂëä = type=http-request,pattern=^https://mp\.weixin\.qq\.com/mp/getappmsgad,timeout=30,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/File/Wechat.js
Ëß£Èô§ÂæÆ‰ø°ÈìæÊé•ÈôêÂà∂ = type=http-response,pattern=^https\:\/\/(weixin110\.qq|security.wechat)\.com\/cgi-bin\/mmspamsupport-bin\/newredirectconfirmcgi\?,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/zZPiglet/Task/master/asset/UnblockURLinWeChat.js
ÈÖ∑ÊàëÈü≥‰πêVIP = type=http-response,pattern=^https?:\/\/vip1\.kuwo\.cn\/(vip\/v2\/user\/vip|vip\/spi/mservice),requires-body=1,max-size=0,timeout=60,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Kuwo.js
ÁæéÂõæÁßÄÁßÄVIP = type=http-response,pattern=^https?:\/\/(h5|api)\.xiuxiu\.meitu\.com\/v\d\/(h\d\/vip|vip|user)\/,requires-body=1,script-path=https://raw.githubusercontent.com/I-am-R-E/QuantumultX/main/JavaScript/MeiTuXiuXiu.js
